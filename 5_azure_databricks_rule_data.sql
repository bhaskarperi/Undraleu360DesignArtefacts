/********************************************************************************************************
Copyright CoeurData Ltd 2009-2023

*********************************************************************************************************
*************** CHANGE HISTORY **************************************************************************
DATE		WHO			DESCRIPTION
15FEB2023	BP			Added 4 rules for Azure Databricks
23FEB2023	MR			Added the rules researched by Rizwan
23FEB2023	NK			Modified the impl_type_id for rules 31000011 to 31000017 to 1200
15MAR2023	BP			Fixed typos for rule 31000016 - "Colums" to "columns"
						Rule Id for 31000018 which was using rule id 22000018
26MAR2023	BP/MR		CBP_IMP_TYPE_ID for 31000018 changed 1200						
********************************************************************************************************/
-- Batch 1
Insert into CBP_RULE (CBP_RULE_ID,CBP_RULE_SHORT_DESC,CBP_RULE_NAME,CBP_OBJECT_TYPE,CBP_CODE_TYPE_ID,CBP_IMP_TYPE_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_ADD_PARAM_ALLOWED,IS_DEPRECATED,DS_STAGE_TYPE,DS_ORCH_STAGE_IDENTIFIER,IS_DUMMY,IS_LEGACY,CBP_OBJECT_SUB_TYPE,EXCEPTION_COLUMN,ALLOW_EXCEPTIONS) values (31000000,'Naming Convention for Azure Databricks Notebook','Naming Convention for Azure Databricks Notebook','Notebook',2100,18000,to_date('28-DEC-09','DD-MON-RR'),to_date('28-DEC-09','DD-MON-RR'),'N','N',null,null,'N','N',null,null,null);
Insert into CBP_RULE (CBP_RULE_ID,CBP_RULE_SHORT_DESC,CBP_RULE_NAME,CBP_OBJECT_TYPE,CBP_CODE_TYPE_ID,CBP_IMP_TYPE_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_ADD_PARAM_ALLOWED,IS_DEPRECATED,DS_STAGE_TYPE,DS_ORCH_STAGE_IDENTIFIER,IS_DUMMY,IS_LEGACY,CBP_OBJECT_SUB_TYPE,EXCEPTION_COLUMN,ALLOW_EXCEPTIONS) values (31000001,'Naming Convention for Azure Databricks Library','Naming Convention for Azure Databricks Library','Library',2100,18000,to_date('28-DEC-09','DD-MON-RR'),to_date('28-DEC-09','DD-MON-RR'),'N','N',null,null,'N','N',null,null,null);
Insert into CBP_RULE (CBP_RULE_ID,CBP_RULE_SHORT_DESC,CBP_RULE_NAME,CBP_OBJECT_TYPE,CBP_CODE_TYPE_ID,CBP_IMP_TYPE_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_ADD_PARAM_ALLOWED,IS_DEPRECATED,DS_STAGE_TYPE,DS_ORCH_STAGE_IDENTIFIER,IS_DUMMY,IS_LEGACY,CBP_OBJECT_SUB_TYPE,EXCEPTION_COLUMN,ALLOW_EXCEPTIONS) values (31000002,'Naming Convention for Azure Databricks MLflow experiment','Naming Convention for Azure Databricks MLflow experiment','MLflow experimentt',2100,18000,to_date('28-DEC-09','DD-MON-RR'),to_date('28-DEC-09','DD-MON-RR'),'N','N',null,null,'N','N',null,null,null);
Insert into CBP_RULE (CBP_RULE_ID,CBP_RULE_SHORT_DESC,CBP_RULE_NAME,CBP_OBJECT_TYPE,CBP_CODE_TYPE_ID,CBP_IMP_TYPE_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_ADD_PARAM_ALLOWED,IS_DEPRECATED,DS_STAGE_TYPE,DS_ORCH_STAGE_IDENTIFIER,IS_DUMMY,IS_LEGACY,CBP_OBJECT_SUB_TYPE,EXCEPTION_COLUMN,ALLOW_EXCEPTIONS) values (31000003,'Naming Convention for Azure Databricks Query','Naming Convention for Azure Databricks Query','Query',2100,18000,to_date('28-DEC-09','DD-MON-RR'),to_date('28-DEC-09','DD-MON-RR'),'N','N',null,null,'N','N',null,null,null);

Insert into CBP_PARAMETER (CBP_PARAMETER_ID,CBP_PARAMETER_NAME,CBP_PARAMETER_DEFAULT_VALUE,CBP_PARAMETER_SITE_VALUE,CBP_PARAMETER_DESCRIPTION,CBP_PARAMETER_KEYWORD,CBP_PARAMETER_PLACE_HOLDER,CBP_PARAMETER_DATA_TYPE,CBP_PATTERN_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_CONFIGURABLE,CBP_IS_PROJECT_SPECIFIC,IS_EXCEPTION,IS_LIST,IS_REGEX) values (31000000,'Naming Convention for Azure Databricks Notebook','^(nb_)',null,'Naming Convention for Azure Databricks Notebook',null,null,'STRING',2000,to_date('27-JAN-22','DD-MON-RR'),to_date('27-JAN-22','DD-MON-RR'),'Y','N',null,null,null);
Insert into CBP_PARAMETER (CBP_PARAMETER_ID,CBP_PARAMETER_NAME,CBP_PARAMETER_DEFAULT_VALUE,CBP_PARAMETER_SITE_VALUE,CBP_PARAMETER_DESCRIPTION,CBP_PARAMETER_KEYWORD,CBP_PARAMETER_PLACE_HOLDER,CBP_PARAMETER_DATA_TYPE,CBP_PATTERN_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_CONFIGURABLE,CBP_IS_PROJECT_SPECIFIC,IS_EXCEPTION,IS_LIST,IS_REGEX) values (31000001,'Naming Convention for Azure Databricks Library','^(lb_)',null,'Naming Convention for Azure Databricks Library',null,null,'STRING',2000,to_date('27-JAN-22','DD-MON-RR'),to_date('27-JAN-22','DD-MON-RR'),'Y','N',null,null,null);
Insert into CBP_PARAMETER (CBP_PARAMETER_ID,CBP_PARAMETER_NAME,CBP_PARAMETER_DEFAULT_VALUE,CBP_PARAMETER_SITE_VALUE,CBP_PARAMETER_DESCRIPTION,CBP_PARAMETER_KEYWORD,CBP_PARAMETER_PLACE_HOLDER,CBP_PARAMETER_DATA_TYPE,CBP_PATTERN_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_CONFIGURABLE,CBP_IS_PROJECT_SPECIFIC,IS_EXCEPTION,IS_LIST,IS_REGEX) values (31000002,'Naming Convention for Azure Databricks MLflow experiment','^(mlfle_)',null,'Naming Convention for Azure Databricks MLflow experiment',null,null,'STRING',2000,to_date('27-JAN-22','DD-MON-RR'),to_date('27-JAN-22','DD-MON-RR'),'Y','N',null,null,null);
Insert into CBP_PARAMETER (CBP_PARAMETER_ID,CBP_PARAMETER_NAME,CBP_PARAMETER_DEFAULT_VALUE,CBP_PARAMETER_SITE_VALUE,CBP_PARAMETER_DESCRIPTION,CBP_PARAMETER_KEYWORD,CBP_PARAMETER_PLACE_HOLDER,CBP_PARAMETER_DATA_TYPE,CBP_PATTERN_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_CONFIGURABLE,CBP_IS_PROJECT_SPECIFIC,IS_EXCEPTION,IS_LIST,IS_REGEX) values (31000003,'Naming Convention for Azure Databricks Query','^(qry_)',null,'Naming Convention for Azure Databricks Query',null,null,'STRING',2000,to_date('27-JAN-22','DD-MON-RR'),to_date('27-JAN-22','DD-MON-RR'),'Y','N',null,null,null);

Insert into CBP_RULE_PARAMETER (CBP_RULE_ID,CBP_PARAMETER_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP) values (31000000,31000000,to_date('28-DEC-09','DD-MON-RR'),to_date('28-DEC-09','DD-MON-RR'));
Insert into CBP_RULE_PARAMETER (CBP_RULE_ID,CBP_PARAMETER_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP) values (31000001,31000001,to_date('28-DEC-09','DD-MON-RR'),to_date('28-DEC-09','DD-MON-RR'));
Insert into CBP_RULE_PARAMETER (CBP_RULE_ID,CBP_PARAMETER_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP) values (31000002,31000002,to_date('28-DEC-09','DD-MON-RR'),to_date('28-DEC-09','DD-MON-RR'));
Insert into CBP_RULE_PARAMETER (CBP_RULE_ID,CBP_PARAMETER_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP) values (31000003,31000003,to_date('28-DEC-09','DD-MON-RR'),to_date('28-DEC-09','DD-MON-RR'));

COMMIT;	

Insert into CBP_RULE (CBP_RULE_ID,CBP_RULE_SHORT_DESC,CBP_RULE_NAME,CBP_OBJECT_TYPE,CBP_CODE_TYPE_ID,CBP_IMP_TYPE_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_ADD_PARAM_ALLOWED,IS_DEPRECATED,DS_STAGE_TYPE,DS_ORCH_STAGE_IDENTIFIER,IS_DUMMY,IS_LEGACY,CBP_OBJECT_SUB_TYPE,EXCEPTION_COLUMN,ALLOW_EXCEPTIONS) values (31000004,'Azure Databricks Notebook has missing Markdown Comments','Azure Databricks Notebook has missing Markdown Comments','Notebook',2100,18000,sysdate,sysdate,'N','N',null,null,'N','N',null,null,null);
Insert into CBP_RULE (CBP_RULE_ID,CBP_RULE_SHORT_DESC,CBP_RULE_NAME,CBP_OBJECT_TYPE,CBP_CODE_TYPE_ID,CBP_IMP_TYPE_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_ADD_PARAM_ALLOWED,IS_DEPRECATED,DS_STAGE_TYPE,DS_ORCH_STAGE_IDENTIFIER,IS_DUMMY,IS_LEGACY,CBP_OBJECT_SUB_TYPE,EXCEPTION_COLUMN,ALLOW_EXCEPTIONS) values (31000005,'Azure Databricks Notebook has missing Mandatory Documentation Tag in Markdown Comments','Azure Databricks Notebook has missing Mandatory Documentation Tag in Markdown Comments','Notebook',2100,18000,sysdate,sysdate,'N','N',null,null,'N','N',null,null,null);

Insert into CBP_RULE (CBP_RULE_ID,CBP_RULE_SHORT_DESC,CBP_RULE_NAME,CBP_OBJECT_TYPE,CBP_CODE_TYPE_ID,CBP_IMP_TYPE_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_ADD_PARAM_ALLOWED,IS_DEPRECATED,DS_STAGE_TYPE,DS_ORCH_STAGE_IDENTIFIER,IS_DUMMY,IS_LEGACY) values (31000011,'Azure Databricks Notebook SQL - has Hard-coded Schema','Azure Databricks Notebook SQL - has Hard-coded Schema','Notebook',2100,1200,sysdate,sysdate,'N','N',null,null,'N','N');
--code based on following ADF Rule
--11191251	Dataflow Source Query - has Hard-coded Schema

Insert into CBP_RULE (CBP_RULE_ID,CBP_RULE_SHORT_DESC,CBP_RULE_NAME,CBP_OBJECT_TYPE,CBP_CODE_TYPE_ID,CBP_IMP_TYPE_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_ADD_PARAM_ALLOWED,IS_DEPRECATED,DS_STAGE_TYPE,DS_ORCH_STAGE_IDENTIFIER,IS_DUMMY,IS_LEGACY) values (31000012,'Azure Databricks Notebook SQL - has Too Many Joins','Azure Databricks Notebook SQL - has Too Many Joins','Notebook',2100,1200,sysdate,sysdate,'N','N',null,null,'N','N');
--code based on following ADF Rule
--11191252	Dataflow Source Query - has Too Many Joins

Insert into CBP_RULE (CBP_RULE_ID,CBP_RULE_SHORT_DESC,CBP_RULE_NAME,CBP_OBJECT_TYPE,CBP_CODE_TYPE_ID,CBP_IMP_TYPE_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_ADD_PARAM_ALLOWED,IS_DEPRECATED,DS_STAGE_TYPE,DS_ORCH_STAGE_IDENTIFIER,IS_DUMMY,IS_LEGACY) values (31000013,'Azure Databricks Notebook SQL - has Too Many Tables Used in the SQL','Azure Databricks Notebook SQL - has Too Many Tables Used in the SQL','Notebook',2100,1200,sysdate,sysdate,'N','N',null,null,'N','N');
--code based on following ADF Rule
--11191253	Dataflow Source Query - has Too Many Tables Used in the SQL

Insert into CBP_RULE (CBP_RULE_ID,CBP_RULE_SHORT_DESC,CBP_RULE_NAME,CBP_OBJECT_TYPE,CBP_CODE_TYPE_ID,CBP_IMP_TYPE_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_ADD_PARAM_ALLOWED,IS_DEPRECATED,DS_STAGE_TYPE,DS_ORCH_STAGE_IDENTIFIER,IS_DUMMY,IS_LEGACY) values (31000014,'Azure Databricks Notebook SQL - has Too Many In-Line Views Used in the SQL','Azure Databricks Notebook SQL - has Too Many In-Line Views Used in the SQL','Notebook',2100,1200,sysdate,sysdate,'N','N',null,null,'N','N');
--code based on following ADF Rule
--11191254	Dataflow Source Query - has Too Many In-Line Views Used in the SQL

Insert into CBP_RULE (CBP_RULE_ID,CBP_RULE_SHORT_DESC,CBP_RULE_NAME,CBP_OBJECT_TYPE,CBP_CODE_TYPE_ID,CBP_IMP_TYPE_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_ADD_PARAM_ALLOWED,IS_DEPRECATED,DS_STAGE_TYPE,DS_ORCH_STAGE_IDENTIFIER,IS_DUMMY,IS_LEGACY) values (31000015,'Azure Databricks Notebook SQL - has Too Many Order By Clauses in the SQL','Azure Databricks Notebook SQL - has Too Many Order By Clauses in the SQL','Notebook',2100,1200,sysdate,sysdate,'N','N',null,null,'N','N');
--to code based on following ADF Rule
--11191255	Dataflow Source Query - has Too Many Order By Clauses in the SQL

Insert into CBP_RULE (CBP_RULE_ID,CBP_RULE_SHORT_DESC,CBP_RULE_NAME,CBP_OBJECT_TYPE,CBP_CODE_TYPE_ID,CBP_IMP_TYPE_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_ADD_PARAM_ALLOWED,IS_DEPRECATED,DS_STAGE_TYPE,DS_ORCH_STAGE_IDENTIFIER,IS_DUMMY,IS_LEGACY) values (31000016,'Azure Databricks Notebook SQL - has Too Many Columns in the Order By Clause in the SQL','Azure Databricks Notebook SQL - has Too Many Columns in the Order By Clause in the SQL','Notebook',2100,1200,sysdate,sysdate,'N','N',null,null,'N','N');
--code based on following ADF Rule
--11191256	Dataflow Source Query - has Too Many Columns in the Order By Clause in the SQL


Insert into CBP_RULE (CBP_RULE_ID,CBP_RULE_SHORT_DESC,CBP_RULE_NAME,CBP_OBJECT_TYPE,CBP_CODE_TYPE_ID,CBP_IMP_TYPE_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_ADD_PARAM_ALLOWED,IS_DEPRECATED,DS_STAGE_TYPE,DS_ORCH_STAGE_IDENTIFIER,IS_DUMMY,IS_LEGACY) values (31000017,'Azure Databricks Notebook SQL - Use of Black Listed Table in the SQL','Azure Databricks Notebook SQL - Use of Black Listed Table in the SQL','Notebook',2100,1200,sysdate,sysdate,'N','N',null,null,'N','N');
--code based on following ADF Rule
--11191257	Dataflow Source Query - Use of Black Listed Table in the SQL

Insert into CBP_RULE (CBP_RULE_ID,CBP_RULE_SHORT_DESC,CBP_RULE_NAME,CBP_OBJECT_TYPE,CBP_CODE_TYPE_ID,CBP_IMP_TYPE_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_ADD_PARAM_ALLOWED,IS_DEPRECATED,DS_STAGE_TYPE,DS_ORCH_STAGE_IDENTIFIER,IS_DUMMY,IS_LEGACY) values (31000018,'Azure Databricks Notebook SQL - Use of Large Table in the SQL','Azure Databricks Notebook SQL - Use of Large Table in the SQL','Notebook',2100,1200,sysdate,sysdate,'N','N',null,null,'N','N');
--code based on following ADF Rule
--11191258	Dataflow Source Query - Use of Large Table in the SQL

--CBP_PARAMETER
Insert into CBP_PARAMETER (CBP_PARAMETER_ID,CBP_PARAMETER_NAME,CBP_PARAMETER_DEFAULT_VALUE,CBP_PARAMETER_SITE_VALUE,CBP_PARAMETER_DESCRIPTION,CBP_PARAMETER_KEYWORD,CBP_PARAMETER_PLACE_HOLDER,CBP_PARAMETER_DATA_TYPE,CBP_PATTERN_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_CONFIGURABLE,CBP_IS_PROJECT_SPECIFIC,IS_EXCEPTION,IS_LIST,IS_REGEX) values (31000005,'Mandatory Documentation Tag in Markdown Comments','VALUE_NOT_SET',null,'Mandatory Documentation Tag in Markdown Comments',null,null,'STRING',2000,sysdate,sysdate,'Y','N',null,null,null);
Insert into CBP_PARAMETER (CBP_PARAMETER_ID,CBP_PARAMETER_NAME,CBP_PARAMETER_DEFAULT_VALUE,CBP_PARAMETER_SITE_VALUE,CBP_PARAMETER_DESCRIPTION,CBP_PARAMETER_KEYWORD,CBP_PARAMETER_PLACE_HOLDER,CBP_PARAMETER_DATA_TYPE,CBP_PATTERN_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_CONFIGURABLE,CBP_IS_PROJECT_SPECIFIC) values (31000012,'Azure Databricks Notebook SQL - Number of Joins Used in a Query','1',null,'Azure Databricks Notebook SQL - Number of Joins Used in a Query',null,'COEURDATA_31000012','NUMBER',null,sysdate,sysdate,'Y','N');
Insert into CBP_PARAMETER (CBP_PARAMETER_ID,CBP_PARAMETER_NAME,CBP_PARAMETER_DEFAULT_VALUE,CBP_PARAMETER_SITE_VALUE,CBP_PARAMETER_DESCRIPTION,CBP_PARAMETER_KEYWORD,CBP_PARAMETER_PLACE_HOLDER,CBP_PARAMETER_DATA_TYPE,CBP_PATTERN_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_CONFIGURABLE,CBP_IS_PROJECT_SPECIFIC) values (31000013,'Azure Databricks Notebook SQL - Maximum Number of Tables Used in the SQL','1',null,'Azure Databricks Notebook SQL - Maximum Number of Tables Used in the SQL',null,'COEURDATA_31000013','NUMBER',null,sysdate,sysdate,'Y','N');
Insert into CBP_PARAMETER (CBP_PARAMETER_ID,CBP_PARAMETER_NAME,CBP_PARAMETER_DEFAULT_VALUE,CBP_PARAMETER_SITE_VALUE,CBP_PARAMETER_DESCRIPTION,CBP_PARAMETER_KEYWORD,CBP_PARAMETER_PLACE_HOLDER,CBP_PARAMETER_DATA_TYPE,CBP_PATTERN_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_CONFIGURABLE,CBP_IS_PROJECT_SPECIFIC) values (31000014,'Azure Databricks Notebook SQL - Maximum Number of In-line Views Used in a Query','1',null,'Azure Databricks Notebook SQL - Maximum Number of In-line Views Used in a Query',null,'COEURDATA_31000014','NUMBER',null,sysdate,sysdate,'Y','N');
Insert into CBP_PARAMETER (CBP_PARAMETER_ID,CBP_PARAMETER_NAME,CBP_PARAMETER_DEFAULT_VALUE,CBP_PARAMETER_SITE_VALUE,CBP_PARAMETER_DESCRIPTION,CBP_PARAMETER_KEYWORD,CBP_PARAMETER_PLACE_HOLDER,CBP_PARAMETER_DATA_TYPE,CBP_PATTERN_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_CONFIGURABLE,CBP_IS_PROJECT_SPECIFIC) values (31000015,'Azure Databricks Notebook SQL - Number of Order By Clauses Used in a Query','1',null,'Azure Databricks Notebook SQL - Number of Order By Clauses Used in a Query',null,'COEURDATA_31000015','NUMBER',null,sysdate,sysdate,'Y','N');
Insert into CBP_PARAMETER (CBP_PARAMETER_ID,CBP_PARAMETER_NAME,CBP_PARAMETER_DEFAULT_VALUE,CBP_PARAMETER_SITE_VALUE,CBP_PARAMETER_DESCRIPTION,CBP_PARAMETER_KEYWORD,CBP_PARAMETER_PLACE_HOLDER,CBP_PARAMETER_DATA_TYPE,CBP_PATTERN_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_CONFIGURABLE,CBP_IS_PROJECT_SPECIFIC) values (31000016,'Azure Databricks Notebook SQL - Maximum Number of Columns in the Order By Clause in the SQL','1',null,'Azure Databricks Notebook SQL - Maximum Number of Columns in the Order By Clause in the SQL',null,'COEURDATA_31000016','NUMBER',null,sysdate,sysdate,'Y','N');

--CBP_RULE_PARAMETER
Insert into CBP_RULE_PARAMETER (CBP_RULE_ID,CBP_PARAMETER_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP) values (31000005,31000005,sysdate,sysdate);
Insert into CBP_RULE_PARAMETER (CBP_RULE_ID,CBP_PARAMETER_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP) values (31000012,31000012,sysdate,sysdate);
Insert into CBP_RULE_PARAMETER (CBP_RULE_ID,CBP_PARAMETER_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP) values (31000013,31000013,sysdate,sysdate);
Insert into CBP_RULE_PARAMETER (CBP_RULE_ID,CBP_PARAMETER_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP) values (31000014,31000014,sysdate,sysdate);
Insert into CBP_RULE_PARAMETER (CBP_RULE_ID,CBP_PARAMETER_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP) values (31000015,31000015,sysdate,sysdate);
Insert into CBP_RULE_PARAMETER (CBP_RULE_ID,CBP_PARAMETER_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP) values (31000016,31000016,sysdate,sysdate);

Commit;

Insert into CBP_RULE (CBP_RULE_ID,CBP_RULE_SHORT_DESC,CBP_RULE_NAME,CBP_OBJECT_TYPE,CBP_CODE_TYPE_ID,CBP_IMP_TYPE_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_ADD_PARAM_ALLOWED,IS_DEPRECATED,DS_STAGE_TYPE,DS_ORCH_STAGE_IDENTIFIER,IS_DUMMY,IS_LEGACY,CBP_OBJECT_SUB_TYPE,EXCEPTION_COLUMN,ALLOW_EXCEPTIONS) values (31000019,'Naming Convention for Cluster','Naming Convention for Cluster','Cluster',2100,18000,to_date('28-DEC-09','DD-MON-RR'),to_date('28-DEC-09','DD-MON-RR'),'N','N',null,null,'N','N',null,null,null);
Insert into CBP_RULE (CBP_RULE_ID,CBP_RULE_SHORT_DESC,CBP_RULE_NAME,CBP_OBJECT_TYPE,CBP_CODE_TYPE_ID,CBP_IMP_TYPE_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_ADD_PARAM_ALLOWED,IS_DEPRECATED,DS_STAGE_TYPE,DS_ORCH_STAGE_IDENTIFIER,IS_DUMMY,IS_LEGACY,CBP_OBJECT_SUB_TYPE,EXCEPTION_COLUMN,ALLOW_EXCEPTIONS) values (31000020,'Naming Convention for Pool','Naming Convention for Pool','Pool',2100,18000,to_date('28-DEC-09','DD-MON-RR'),to_date('28-DEC-09','DD-MON-RR'),'N','N',null,null,'N','N',null,null,null);
Insert into CBP_RULE (CBP_RULE_ID,CBP_RULE_SHORT_DESC,CBP_RULE_NAME,CBP_OBJECT_TYPE,CBP_CODE_TYPE_ID,CBP_IMP_TYPE_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_ADD_PARAM_ALLOWED,IS_DEPRECATED,DS_STAGE_TYPE,DS_ORCH_STAGE_IDENTIFIER,IS_DUMMY,IS_LEGACY,CBP_OBJECT_SUB_TYPE,EXCEPTION_COLUMN,ALLOW_EXCEPTIONS) values (31000021,'Naming Convention for Policy','Naming Convention for Policy','Policy',2100,18000,to_date('28-DEC-09','DD-MON-RR'),to_date('28-DEC-09','DD-MON-RR'),'N','N',null,null,'N','N',null,null,null);

Insert into CBP_PARAMETER (CBP_PARAMETER_ID,CBP_PARAMETER_NAME,CBP_PARAMETER_DEFAULT_VALUE,CBP_PARAMETER_SITE_VALUE,CBP_PARAMETER_DESCRIPTION,CBP_PARAMETER_KEYWORD,CBP_PARAMETER_PLACE_HOLDER,CBP_PARAMETER_DATA_TYPE,CBP_PATTERN_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_CONFIGURABLE,CBP_IS_PROJECT_SPECIFIC,IS_EXCEPTION,IS_LIST,IS_REGEX) values (31000019,'Naming Convention for Azure Databricks Cluster','^(cluster_)',null,'Naming Convention for Azure Databricks Cluster',null,null,'STRING',2000,to_date('27-JAN-22','DD-MON-RR'),to_date('27-JAN-22','DD-MON-RR'),'Y','N',null,null,null);
Insert into CBP_PARAMETER (CBP_PARAMETER_ID,CBP_PARAMETER_NAME,CBP_PARAMETER_DEFAULT_VALUE,CBP_PARAMETER_SITE_VALUE,CBP_PARAMETER_DESCRIPTION,CBP_PARAMETER_KEYWORD,CBP_PARAMETER_PLACE_HOLDER,CBP_PARAMETER_DATA_TYPE,CBP_PATTERN_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_CONFIGURABLE,CBP_IS_PROJECT_SPECIFIC,IS_EXCEPTION,IS_LIST,IS_REGEX) values (31000020,'Naming Convention for Azure Databricks Pool','^(pool_)',null,'Naming Convention for Azure Databricks Pool',null,null,'STRING',2000,to_date('27-JAN-22','DD-MON-RR'),to_date('27-JAN-22','DD-MON-RR'),'Y','N',null,null,null);
Insert into CBP_PARAMETER (CBP_PARAMETER_ID,CBP_PARAMETER_NAME,CBP_PARAMETER_DEFAULT_VALUE,CBP_PARAMETER_SITE_VALUE,CBP_PARAMETER_DESCRIPTION,CBP_PARAMETER_KEYWORD,CBP_PARAMETER_PLACE_HOLDER,CBP_PARAMETER_DATA_TYPE,CBP_PATTERN_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_CONFIGURABLE,CBP_IS_PROJECT_SPECIFIC,IS_EXCEPTION,IS_LIST,IS_REGEX) values (31000021,'Naming Convention for Azure Databricks Policy','^(policy_)',null,'Naming Convention for Azure Databricks Policy',null,null,'STRING',2000,to_date('27-JAN-22','DD-MON-RR'),to_date('27-JAN-22','DD-MON-RR'),'Y','N',null,null,null);

Insert into CBP_RULE_PARAMETER (CBP_RULE_ID,CBP_PARAMETER_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP) values (31000019,31000019,to_date('28-DEC-09','DD-MON-RR'),to_date('28-DEC-09','DD-MON-RR'));
Insert into CBP_RULE_PARAMETER (CBP_RULE_ID,CBP_PARAMETER_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP) values (31000020,31000020,to_date('28-DEC-09','DD-MON-RR'),to_date('28-DEC-09','DD-MON-RR'));
Insert into CBP_RULE_PARAMETER (CBP_RULE_ID,CBP_PARAMETER_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP) values (31000021,31000021,to_date('28-DEC-09','DD-MON-RR'),to_date('28-DEC-09','DD-MON-RR'));

COMMIT;

-- Cluster Rules

-- Cluster Autoscale property Min Workers is out of Range
-- Looking for the values are between 1 and 10 RegEx \b([1-9]|10)\b
Insert into CBP_RULE (CBP_RULE_ID,CBP_RULE_SHORT_DESC,CBP_RULE_NAME,CBP_OBJECT_TYPE,CBP_CODE_TYPE_ID,CBP_IMP_TYPE_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_ADD_PARAM_ALLOWED,IS_DEPRECATED,DS_STAGE_TYPE,DS_ORCH_STAGE_IDENTIFIER,IS_DUMMY,IS_LEGACY,CBP_OBJECT_SUB_TYPE,EXCEPTION_COLUMN,ALLOW_EXCEPTIONS) values (31000022,'Cluster Autoscale property Min Workers is out of Range','Cluster Autoscale property Min Workers is out of Range','Cluster',2100,18000,to_date('28-DEC-09','DD-MON-RR'),to_date('28-DEC-09','DD-MON-RR'),'N','N',null,null,'N','N',null,null,null);
Insert into CBP_PARAMETER (CBP_PARAMETER_ID,CBP_PARAMETER_NAME,CBP_PARAMETER_DEFAULT_VALUE,CBP_PARAMETER_SITE_VALUE,CBP_PARAMETER_DESCRIPTION,CBP_PARAMETER_KEYWORD,CBP_PARAMETER_PLACE_HOLDER,CBP_PARAMETER_DATA_TYPE,CBP_PATTERN_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_CONFIGURABLE,CBP_IS_PROJECT_SPECIFIC,IS_EXCEPTION,IS_LIST,IS_REGEX) values (31000022,'Cluster Autoscale property Min Workers permissible range','\b([1-9]|10)\b',null,'Cluster Autoscale properties Min Workers or Max Workers Range',null,null,'STRING',2000,to_date('27-JAN-22','DD-MON-RR'),to_date('27-JAN-22','DD-MON-RR'),'Y','N',null,null,null);
Insert into CBP_RULE_PARAMETER (CBP_RULE_ID,CBP_PARAMETER_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP) values (31000022,31000022,to_date('28-DEC-09','DD-MON-RR'),to_date('28-DEC-09','DD-MON-RR'));

-- Cluster Autotermination duration is out of Range
-- Looking for the values are between 1 and 100 RegEx \b([1-9]|[1-9][0-9]|100)\b
-- autotermination_minutes
Insert into CBP_RULE (CBP_RULE_ID,CBP_RULE_SHORT_DESC,CBP_RULE_NAME,CBP_OBJECT_TYPE,CBP_CODE_TYPE_ID,CBP_IMP_TYPE_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_ADD_PARAM_ALLOWED,IS_DEPRECATED,DS_STAGE_TYPE,DS_ORCH_STAGE_IDENTIFIER,IS_DUMMY,IS_LEGACY,CBP_OBJECT_SUB_TYPE,EXCEPTION_COLUMN,ALLOW_EXCEPTIONS) values (31000023,'Cluster Autotermination duration is out of Range','Cluster Autotermination duration is out of Range','Cluster',2100,18000,to_date('28-DEC-09','DD-MON-RR'),to_date('28-DEC-09','DD-MON-RR'),'N','N',null,null,'N','N',null,null,null);
Insert into CBP_PARAMETER (CBP_PARAMETER_ID,CBP_PARAMETER_NAME,CBP_PARAMETER_DEFAULT_VALUE,CBP_PARAMETER_SITE_VALUE,CBP_PARAMETER_DESCRIPTION,CBP_PARAMETER_KEYWORD,CBP_PARAMETER_PLACE_HOLDER,CBP_PARAMETER_DATA_TYPE,CBP_PATTERN_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_CONFIGURABLE,CBP_IS_PROJECT_SPECIFIC,IS_EXCEPTION,IS_LIST,IS_REGEX) values (31000023,'Cluster Autotermination duration Range','\b([1-9]|[1-9][0-9]|100)\b',null,'Cluster Autotermination duration Range',null,null,'STRING',2000,to_date('27-JAN-22','DD-MON-RR'),to_date('27-JAN-22','DD-MON-RR'),'Y','N',null,null,null);
Insert into CBP_RULE_PARAMETER (CBP_RULE_ID,CBP_PARAMETER_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP) values (31000023,31000023,to_date('28-DEC-09','DD-MON-RR'),to_date('28-DEC-09','DD-MON-RR'));

-- Cluster Autoscale property Max Workers out of Range
-- Looking for the values are between 1 and 10 RegEx \b([1-9]|10)\b
Insert into CBP_RULE (CBP_RULE_ID,CBP_RULE_SHORT_DESC,CBP_RULE_NAME,CBP_OBJECT_TYPE,CBP_CODE_TYPE_ID,CBP_IMP_TYPE_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_ADD_PARAM_ALLOWED,IS_DEPRECATED,DS_STAGE_TYPE,DS_ORCH_STAGE_IDENTIFIER,IS_DUMMY,IS_LEGACY,CBP_OBJECT_SUB_TYPE,EXCEPTION_COLUMN,ALLOW_EXCEPTIONS) values (31000024,'Cluster Autoscale property Max Workers is out of Range','Cluster Autoscale property Max Workers is out of Range','Cluster',2100,18000,to_date('28-DEC-09','DD-MON-RR'),to_date('28-DEC-09','DD-MON-RR'),'N','N',null,null,'N','N',null,null,null);
Insert into CBP_PARAMETER (CBP_PARAMETER_ID,CBP_PARAMETER_NAME,CBP_PARAMETER_DEFAULT_VALUE,CBP_PARAMETER_SITE_VALUE,CBP_PARAMETER_DESCRIPTION,CBP_PARAMETER_KEYWORD,CBP_PARAMETER_PLACE_HOLDER,CBP_PARAMETER_DATA_TYPE,CBP_PATTERN_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_CONFIGURABLE,CBP_IS_PROJECT_SPECIFIC,IS_EXCEPTION,IS_LIST,IS_REGEX) values (31000024,'Cluster Autoscale property Max Workers permissible range','\b([1-9]|10)\b',null,'Cluster Autoscale property Max Workers permissible range',null,null,'STRING',2000,to_date('27-JAN-22','DD-MON-RR'),to_date('27-JAN-22','DD-MON-RR'),'Y','N',null,null,null);
Insert into CBP_RULE_PARAMETER (CBP_RULE_ID,CBP_PARAMETER_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP) values (31000024,31000024,to_date('28-DEC-09','DD-MON-RR'),to_date('28-DEC-09','DD-MON-RR'));

-- Cluster not enabled for Autoscaling
-- Look for autoscale property
/*
    "autoscale": {
        "min_workers": 2,
        "max_workers": 8
    },
*/
Insert into CBP_RULE (CBP_RULE_ID,CBP_RULE_SHORT_DESC,CBP_RULE_NAME,CBP_OBJECT_TYPE,CBP_CODE_TYPE_ID,CBP_IMP_TYPE_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_ADD_PARAM_ALLOWED,IS_DEPRECATED,DS_STAGE_TYPE,DS_ORCH_STAGE_IDENTIFIER,IS_DUMMY,IS_LEGACY,CBP_OBJECT_SUB_TYPE,EXCEPTION_COLUMN,ALLOW_EXCEPTIONS) values (31000025,'Cluster not enabled for Autoscaling','Cluster not enabled for Autoscaling','Cluster',2100,18000,to_date('28-DEC-09','DD-MON-RR'),to_date('28-DEC-09','DD-MON-RR'),'N','N',null,null,'N','N',null,null,null);


-- Cluster Runtime Engine is not as per Standard
-- Looking for the values to be PHOTON RegEx ^PHOTON$
-- Runtime engine not PHOTON
Insert into CBP_RULE (CBP_RULE_ID,CBP_RULE_SHORT_DESC,CBP_RULE_NAME,CBP_OBJECT_TYPE,CBP_CODE_TYPE_ID,CBP_IMP_TYPE_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_ADD_PARAM_ALLOWED,IS_DEPRECATED,DS_STAGE_TYPE,DS_ORCH_STAGE_IDENTIFIER,IS_DUMMY,IS_LEGACY,CBP_OBJECT_SUB_TYPE,EXCEPTION_COLUMN,ALLOW_EXCEPTIONS) values (31000026,'Cluster Runtime Engine is not as per Standard','Cluster Runtime Engine is not as per Standard','Cluster',2100,18000,to_date('28-DEC-09','DD-MON-RR'),to_date('28-DEC-09','DD-MON-RR'),'N','N',null,null,'N','N',null,null,null);
Insert into CBP_PARAMETER (CBP_PARAMETER_ID,CBP_PARAMETER_NAME,CBP_PARAMETER_DEFAULT_VALUE,CBP_PARAMETER_SITE_VALUE,CBP_PARAMETER_DESCRIPTION,CBP_PARAMETER_KEYWORD,CBP_PARAMETER_PLACE_HOLDER,CBP_PARAMETER_DATA_TYPE,CBP_PATTERN_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_CONFIGURABLE,CBP_IS_PROJECT_SPECIFIC,IS_EXCEPTION,IS_LIST,IS_REGEX) values (31000026,'Cluster Runtime Engine Standard','^PHOTON$',null,'Cluster Runtime Engine Standard',null,null,'STRING',2000,to_date('27-JAN-22','DD-MON-RR'),to_date('27-JAN-22','DD-MON-RR'),'Y','N',null,null,null);
Insert into CBP_RULE_PARAMETER (CBP_RULE_ID,CBP_PARAMETER_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP) values (31000026,31000026,to_date('28-DEC-09','DD-MON-RR'),to_date('28-DEC-09','DD-MON-RR'));

-- Cluster Driver and Worker Node Type not the Same
-- driver_node_type_id and node_type_id in the JSON
-- if node_type_id is only available it means the driver is also using the same Node Type
-- if both driver_node_type_id and node_type_id are configured that means they are different
-- This rule should not display any violations if the Cluster is configured to use a pool which is in the key word instance_pool_id in the JSON
Insert into CBP_RULE (CBP_RULE_ID,CBP_RULE_SHORT_DESC,CBP_RULE_NAME,CBP_OBJECT_TYPE,CBP_CODE_TYPE_ID,CBP_IMP_TYPE_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_ADD_PARAM_ALLOWED,IS_DEPRECATED,DS_STAGE_TYPE,DS_ORCH_STAGE_IDENTIFIER,IS_DUMMY,IS_LEGACY,CBP_OBJECT_SUB_TYPE,EXCEPTION_COLUMN,ALLOW_EXCEPTIONS) values (31000027,'Cluster Driver and Worker Node Type not the Same','Cluster Driver and Worker Node Type not the Same','Cluster',2100,18000,to_date('28-DEC-09','DD-MON-RR'),to_date('28-DEC-09','DD-MON-RR'),'N','N',null,null,'N','N',null,null,null);


-- Pool Rules

-- Pool Min Idle Instances is out of Range
-- Looking for the values are between 1 and 3 RegEx \b[1-3]\b
Insert into CBP_RULE (CBP_RULE_ID,CBP_RULE_SHORT_DESC,CBP_RULE_NAME,CBP_OBJECT_TYPE,CBP_CODE_TYPE_ID,CBP_IMP_TYPE_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_ADD_PARAM_ALLOWED,IS_DEPRECATED,DS_STAGE_TYPE,DS_ORCH_STAGE_IDENTIFIER,IS_DUMMY,IS_LEGACY,CBP_OBJECT_SUB_TYPE,EXCEPTION_COLUMN,ALLOW_EXCEPTIONS) values (31000028,'Pool Min Idle Instances is out of Range','Pool Min Idle Instances is out of Range','Pool',2100,18000,to_date('28-DEC-09','DD-MON-RR'),to_date('28-DEC-09','DD-MON-RR'),'N','N',null,null,'N','N',null,null,null);
Insert into CBP_PARAMETER (CBP_PARAMETER_ID,CBP_PARAMETER_NAME,CBP_PARAMETER_DEFAULT_VALUE,CBP_PARAMETER_SITE_VALUE,CBP_PARAMETER_DESCRIPTION,CBP_PARAMETER_KEYWORD,CBP_PARAMETER_PLACE_HOLDER,CBP_PARAMETER_DATA_TYPE,CBP_PATTERN_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_CONFIGURABLE,CBP_IS_PROJECT_SPECIFIC,IS_EXCEPTION,IS_LIST,IS_REGEX) values (31000028,'Pool Min Idle Instances Range','\b[1-3]\b',null,'Pool Min Idle Instances Range',null,null,'STRING',2000,to_date('27-JAN-22','DD-MON-RR'),to_date('27-JAN-22','DD-MON-RR'),'Y','N',null,null,null);
Insert into CBP_RULE_PARAMETER (CBP_RULE_ID,CBP_PARAMETER_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP) values (31000028,31000028,to_date('28-DEC-09','DD-MON-RR'),to_date('28-DEC-09','DD-MON-RR'));

-- Pool Max Capacity Instances is out of Range
-- Looking for the values are between 4 and 16 RegEx \b([4-9]|1[0-6])\b
Insert into CBP_RULE (CBP_RULE_ID,CBP_RULE_SHORT_DESC,CBP_RULE_NAME,CBP_OBJECT_TYPE,CBP_CODE_TYPE_ID,CBP_IMP_TYPE_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_ADD_PARAM_ALLOWED,IS_DEPRECATED,DS_STAGE_TYPE,DS_ORCH_STAGE_IDENTIFIER,IS_DUMMY,IS_LEGACY,CBP_OBJECT_SUB_TYPE,EXCEPTION_COLUMN,ALLOW_EXCEPTIONS) values (31000029,'Pool Max Capacity Instances is out of Range','Pool Max Capacity Instances is out of Range','Pool',2100,18000,to_date('28-DEC-09','DD-MON-RR'),to_date('28-DEC-09','DD-MON-RR'),'N','N',null,null,'N','N',null,null,null);
Insert into CBP_PARAMETER (CBP_PARAMETER_ID,CBP_PARAMETER_NAME,CBP_PARAMETER_DEFAULT_VALUE,CBP_PARAMETER_SITE_VALUE,CBP_PARAMETER_DESCRIPTION,CBP_PARAMETER_KEYWORD,CBP_PARAMETER_PLACE_HOLDER,CBP_PARAMETER_DATA_TYPE,CBP_PATTERN_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_CONFIGURABLE,CBP_IS_PROJECT_SPECIFIC,IS_EXCEPTION,IS_LIST,IS_REGEX) values (31000029,'Pool Max Capacity Instances Range','\b([4-9]|1[0-6])\b',null,'Pool Max Capacity Instances Range',null,null,'STRING',2000,to_date('27-JAN-22','DD-MON-RR'),to_date('27-JAN-22','DD-MON-RR'),'Y','N',null,null,null);
Insert into CBP_RULE_PARAMETER (CBP_RULE_ID,CBP_PARAMETER_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP) values (31000029,31000029,to_date('28-DEC-09','DD-MON-RR'),to_date('28-DEC-09','DD-MON-RR'));

-- Cluster with access mode set as No Isolation shared
Insert into CBP_RULE (CBP_RULE_ID,CBP_RULE_SHORT_DESC,CBP_RULE_NAME,CBP_OBJECT_TYPE,CBP_CODE_TYPE_ID,CBP_IMP_TYPE_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_ADD_PARAM_ALLOWED,IS_DEPRECATED,DS_STAGE_TYPE,DS_ORCH_STAGE_IDENTIFIER,IS_DUMMY,IS_LEGACY,CBP_OBJECT_SUB_TYPE,EXCEPTION_COLUMN,ALLOW_EXCEPTIONS) values (31000030,'Cluster with access mode set as No Isolation shared','Cluster with access mode set as No Isolation shared','Cluster',2100,18000,to_date('28-DEC-09','DD-MON-RR'),to_date('28-DEC-09','DD-MON-RR'),'N','N',null,null,'N','N',null,null,null);

/*
    "spark_conf": {
        "spark.databricks.cluster.profile": "singleNode",
        "spark.master": "local[*, 4]",
        "spark.databricks.io.cache.maxMetaDataCache": "1g",
        "spark.databricks.io.cache.maxDiskUsage": "50g",
        "spark.databricks.delta.preview.enabled": "true",
        "spark.databricks.io.cache.compression.enabled": "false",
        "spark.databricks.io.cache.enabled": "true"
    },
*/
-- Cluster Disk Space Reserved For Cached Data is out of Range
-- Looking for the values for spark.databricks.io.cache.maxDiskUsage are between 1g and 99g RegEx \b[1-9][0-9][g]\b
Insert into CBP_RULE (CBP_RULE_ID,CBP_RULE_SHORT_DESC,CBP_RULE_NAME,CBP_OBJECT_TYPE,CBP_CODE_TYPE_ID,CBP_IMP_TYPE_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_ADD_PARAM_ALLOWED,IS_DEPRECATED,DS_STAGE_TYPE,DS_ORCH_STAGE_IDENTIFIER,IS_DUMMY,IS_LEGACY,CBP_OBJECT_SUB_TYPE,EXCEPTION_COLUMN,ALLOW_EXCEPTIONS) values (31000031,'Cluster Disk Space Reserved For Cached Data is out of Range','Cluster Disk Space Reserved For Cached Data is out of Range','Cluster',2100,18000,to_date('28-DEC-09','DD-MON-RR'),to_date('28-DEC-09','DD-MON-RR'),'N','N',null,null,'N','N',null,null,null);
Insert into CBP_PARAMETER (CBP_PARAMETER_ID,CBP_PARAMETER_NAME,CBP_PARAMETER_DEFAULT_VALUE,CBP_PARAMETER_SITE_VALUE,CBP_PARAMETER_DESCRIPTION,CBP_PARAMETER_KEYWORD,CBP_PARAMETER_PLACE_HOLDER,CBP_PARAMETER_DATA_TYPE,CBP_PATTERN_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_CONFIGURABLE,CBP_IS_PROJECT_SPECIFIC,IS_EXCEPTION,IS_LIST,IS_REGEX) values (31000031,'Cluster Disk Space Reserved For Cached Data Range','\b[1-9][0-9][g]\b',null,'Cluster Disk Space Reserved For Cached Data Range',null,null,'STRING',2000,to_date('27-JAN-22','DD-MON-RR'),to_date('27-JAN-22','DD-MON-RR'),'Y','N',null,null,null);
Insert into CBP_RULE_PARAMETER (CBP_RULE_ID,CBP_PARAMETER_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP) values (31000031,31000031,to_date('28-DEC-09','DD-MON-RR'),to_date('28-DEC-09','DD-MON-RR'));

-- Cluster Disk Space Per Node Reserved For Cached Metadata is out of Range
-- Looking for the values for spark.databricks.io.cache.maxMetaDataCache are between 1g and 2g RegEx \b[1-2][g]\b
Insert into CBP_RULE (CBP_RULE_ID,CBP_RULE_SHORT_DESC,CBP_RULE_NAME,CBP_OBJECT_TYPE,CBP_CODE_TYPE_ID,CBP_IMP_TYPE_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_ADD_PARAM_ALLOWED,IS_DEPRECATED,DS_STAGE_TYPE,DS_ORCH_STAGE_IDENTIFIER,IS_DUMMY,IS_LEGACY,CBP_OBJECT_SUB_TYPE,EXCEPTION_COLUMN,ALLOW_EXCEPTIONS) values (31000032,'Cluster Disk Space Per Node Reserved For Cached Metadata is out of Range','Cluster Disk Space Per Node Reserved For Cached Metadata is out of Range','Cluster',2100,18000,to_date('28-DEC-09','DD-MON-RR'),to_date('28-DEC-09','DD-MON-RR'),'N','N',null,null,'N','N',null,null,null);
Insert into CBP_PARAMETER (CBP_PARAMETER_ID,CBP_PARAMETER_NAME,CBP_PARAMETER_DEFAULT_VALUE,CBP_PARAMETER_SITE_VALUE,CBP_PARAMETER_DESCRIPTION,CBP_PARAMETER_KEYWORD,CBP_PARAMETER_PLACE_HOLDER,CBP_PARAMETER_DATA_TYPE,CBP_PATTERN_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_CONFIGURABLE,CBP_IS_PROJECT_SPECIFIC,IS_EXCEPTION,IS_LIST,IS_REGEX) values (31000032,'Cluster Disk Space Per Node Reserved For Cached Metadata Range','\b[1-9][0-9][g]\b',null,'Cluster Disk Space Per Node Reserved For Cached Metadata Range',null,null,'STRING',2000,to_date('27-JAN-22','DD-MON-RR'),to_date('27-JAN-22','DD-MON-RR'),'Y','N',null,null,null);
Insert into CBP_RULE_PARAMETER (CBP_RULE_ID,CBP_PARAMETER_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP) values (31000032,31000032,to_date('28-DEC-09','DD-MON-RR'),to_date('28-DEC-09','DD-MON-RR'));

-- Cluster Cached Data Compression is not enabled
-- "spark.databricks.io.cache.compression.enabled": "false"
Insert into CBP_RULE (CBP_RULE_ID,CBP_RULE_SHORT_DESC,CBP_RULE_NAME,CBP_OBJECT_TYPE,CBP_CODE_TYPE_ID,CBP_IMP_TYPE_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_ADD_PARAM_ALLOWED,IS_DEPRECATED,DS_STAGE_TYPE,DS_ORCH_STAGE_IDENTIFIER,IS_DUMMY,IS_LEGACY,CBP_OBJECT_SUB_TYPE,EXCEPTION_COLUMN,ALLOW_EXCEPTIONS) values (31000033,'Cluster Cached Data Compression is not enabled','Cluster Cached Data Compression is not enabled','Cluster',2100,18000,to_date('28-DEC-09','DD-MON-RR'),to_date('28-DEC-09','DD-MON-RR'),'N','N',null,null,'N','N',null,null,null);

-- Cluster Disk Caching is not enabled
-- "spark.databricks.io.cache.enabled": "true"
Insert into CBP_RULE (CBP_RULE_ID,CBP_RULE_SHORT_DESC,CBP_RULE_NAME,CBP_OBJECT_TYPE,CBP_CODE_TYPE_ID,CBP_IMP_TYPE_ID,CBP_CREATED_TIMESTAMP,CBP_UPDATED_TIMESTAMP,CBP_ADD_PARAM_ALLOWED,IS_DEPRECATED,DS_STAGE_TYPE,DS_ORCH_STAGE_IDENTIFIER,IS_DUMMY,IS_LEGACY,CBP_OBJECT_SUB_TYPE,EXCEPTION_COLUMN,ALLOW_EXCEPTIONS) values (31000034,'Cluster Disk Caching is not enabled','Cluster Disk Caching is not enabled','Cluster',2100,18000,to_date('28-DEC-09','DD-MON-RR'),to_date('28-DEC-09','DD-MON-RR'),'N','N',null,null,'N','N',null,null,null);

COMMIT;